Система аудита качества коммуникаций и аналитической отчётности
1. Общая концепция системы

Разрабатываемая система представляет собой веб-платформу для проведения аудитов качества коммуникаций (звонков, переписок и иных взаимодействий) с последующим формированием аналитических отчётов для компаний. Система предназначена для использования в B2B-сценарии, где одна управляющая сторона (администратор) взаимодействует с несколькими компаниями, каждая из которых получает результаты аудитов в виде наглядных и интерпретируемых отчётов.

Ключевым принципом системы является полная конфигурируемость без необходимости внесения изменений в программный код. Любые изменения структуры аудита, правил оценки или формата отчётности должны выполняться через административный интерфейс и автоматически отражаться в логике расчётов и визуализации отчётов.

2. Модель компаний и индивидуальности

Каждая компания в системе является изолированной логической сущностью со своими аудитами, настройками и отчётами. Индивидуальность компании не предполагает создание отдельной логики или уникального кода. Все различия между компаниями реализуются исключительно через настройки и конфигурации, доступные в административной части.

Компания может иметь собственные анкеты, собственную структуру вопросов, собственные веса оценки, собственные тексты пояснений и собственные правила интерпретации итоговых результатов. При этом используется единый универсальный механизм расчёта и отображения отчётов, который динамически подстраивается под конфигурацию конкретной компании.

3. Анкеты и аудиты

Анкета представляет собой формализованную структуру аудита и привязывается к конкретной компании. Одна компания может иметь неограниченное количество анкет, предназначенных для разных типов проверок, таких как оценка звонков, оценка переписок или другие виды коммуникаций.

Анкеты являются версионируемыми. Любые изменения анкеты создают новую версию и не влияют на ранее проведённые аудиты и сформированные отчёты. Это необходимо для сохранения корректности исторических данных и аналитики.

4. Структура вопросов и подпунктов

Каждая анкета состоит из набора вопросов. Вопросы могут иметь один или несколько подпунктов, по которым аналитик выставляет оценки. Для каждого вопроса и подпункта задаются веса, влияющие на итоговый расчёт оценки.

Вопросы содержат текст формулировки, описание назначения вопроса, пояснение того, на что влияет данный критерий, а также статус активности. Неактивные вопросы не участвуют в расчётах и не отображаются в отчётах.

5. Проведение аудита аналитиками

Аудит представляет собой процесс заполнения анкеты аналитиком. Каждый аудит жёстко привязан к компании, конкретной анкете и её версии, а также к аналитику, выполнившему оценку. В системе обязательно хранится информация о том, кто и когда провёл аудит.

Аудит может находиться в статусе черновика либо завершённого. До завершения аналитик может свободно редактировать оценки. После завершения аудит считается зафиксированным и участвует в расчётах и отчётах. Возможность редактирования завершённых аудитов определяется правами доступа.

6. Оценки и комментарии

По каждому подпункту аналитик выставляет оценку в соответствии с допустимой шкалой. Помимо оценки, для каждого вопроса и подпункта должно быть предусмотрено необязательное текстовое поле комментария. Комментарии предназначены для обоснования выставленной оценки, пояснения спорных моментов и повышения прозрачности аудита для компании.

Комментарии не влияют на расчёт итоговой оценки, но могут отображаться в отчётах в зависимости от настроек конкретной компании.

7. Управление аудитами

Система должна предоставлять возможность просмотра, фильтрации и управления аудитами. Пользователи с соответствующими правами могут просматривать список аудитов, фильтровать их по дате, аналитику, анкете и статусу, а также редактировать или удалять аудиты.

Удаление аудитов должно быть реализовано по принципу мягкого удаления, при котором аудит исключается из расчётов и отчётов, но остаётся в системе для целей истории и контроля.

8. История изменений и прозрачность

Для обеспечения прозрачности и контроля качества система должна фиксировать историю изменений аудитов. Хранится информация о создании аудита, его редактировании и удалении, а также о пользователях, совершивших данные действия. История изменений доступна администраторам компании.

9. Логика расчёта оценок

Итоговая оценка формируется динамически на основе активных вопросов анкеты, их весов и выставленных баллов. Система не содержит жёстко зашитых формул, привязанных к конкретной анкете. Любые изменения в структуре анкеты автоматически отражаются в расчётах без вмешательства разработчика.

10. Отчётность и визуализация

Отчёты в системе являются динамическими и формируются на основании текущей конфигурации анкеты и настроек компании. Отчёт не имеет фиксированной структуры и автоматически адаптируется под количество вопросов, подпунктов и правила оценки.

Отчёт должен быть визуально понятным и информативным для конечной компании. Он включает итоговую оценку, детализацию по каждому вопросу, пояснения значимости критериев, комментарии аналитиков (если включено), а также итоговые выводы и зоны роста.


Управление пользователями, компаниями и вводными данными для аудита

Управление системой осуществляется централизованно через администратора платформы. Только администратор имеет право создавать, редактировать и деактивировать компании, а также управлять всеми пользователями системы, включая аналитиков и представителей компаний.

Администратор добавляет новые компании в систему вручную. При создании компании администратор указывает вводные данные, необходимые для проведения аудитов. К таким данным могут относиться информация о бизнесе компании, используемые скрипты продаж или обслуживания, регламенты общения, а также иные материалы, которые должны использоваться аналитиками при оценке взаимодействий. При необходимости администратор может сохранять дополнительные служебные данные, включая логины и пароли к внешним системам, если это требуется для работы аналитиков. Данные такого типа должны храниться с ограниченным доступом и быть видимыми только администратору и аналитикам.

Администратор также управляет аналитиками системы. Создание аналитиков, выдача им доступов, назначение ролей и при необходимости первичная установка или сброс паролей осуществляется исключительно администратором. Аналитики не могут самостоятельно регистрироваться в системе или изменять свои роли.

Компании не имеют возможности управлять пользователями, анкетами, аудитами или настройками системы. Для компаний предусмотрен режим доступа только для просмотра. Представители компании могут просматривать отчёты, результаты аудитов, комментарии аналитиков и пояснительные блоки, но не могут вносить изменения, участвовать в рейтингах других компаний или взаимодействовать с данными, не относящимися к их организации.

Компании полностью изолированы друг от друга. В системе отсутствуют глобальные рейтинги, сравнения или публичные списки компаний. Каждая компания видит исключительно свои собственные данные и отчёты.

Вводные данные компании, включая скрипты, регламенты и иные материалы, должны быть доступны аналитикам в процессе проведения аудита. При заполнении анкеты аналитик должен иметь возможность ориентироваться на предоставленные компанией скрипты и инструкции. Данные материалы могут отображаться непосредственно в интерфейсе аудита либо быть привязаны к анкете в виде справочной информации. Использование вводных данных в процессе оценки является рекомендованным, но не обязательным, и не влияет напрямую на расчёт итоговых оценок.

Таким образом, система обеспечивает централизованное управление всеми сущностями через администратора, полную изоляцию компаний, прозрачность работы аналитиков и использование единых вводных данных при проведении аудитов, без предоставления компаниям возможностей влияния на логику оценки или данные других участников системы.

13. Принцип отсутствия зависимости от разработчика

Система должна быть спроектирована таким образом, чтобы типовые изменения бизнес-логики, структуры аудитов и формата отчётов не требовали участия разработчика. Все подобные изменения выполняются через административный интерфейс.

14. Технические и эксплуатационные требования

Система должна быть масштабируемой и поддерживать работу с неограниченным количеством компаний. Решение должно быть безопасным, изолировать данные компаний друг от друга и обеспечивать контроль доступа.
Next.js (App Router) + React + TypeScript; Backend: Next.js API Routes / Server Actions; База данных: PostgreSQL Neon; ORM: Prisma

15. Границы системы

Система не включает CRM-функциональность, не использует Excel или Google Sheets и не предполагает ручного редактирования формул расчёта.

16. Итоговая концепция

Разрабатываемая платформа является конфигурируемой системой аудита, где вся индивидуальность компаний достигается настройками, а отчёты автоматически и корректно отражают текущие правила оценки, обеспечивая прозрачность, понятность и аналитическую ценность результатов.

Тарифы и доступность анкет
Каждая анкета может быть включена или отключена для конкретной компании. Администратор управляет доступностью анкет через простой переключатель (галочка) без дополнительных полей или логики тарифных планов. Решение о том, какие анкеты доступны компании, принимает администратор вручную на основании коммерческих договорённостей.
Дата подключения компании
При создании компании администратор указывает дату подключения (дату начала работы). Это поле используется для отслеживания ежемесячных платежей и управления подписками. Каждый месяц в эту дату администратор может проверять, какие компании должны оплатить подписку за следующий период.
Шкалы оценок
Система поддерживает конфигурируемые шкалы оценок. По умолчанию используется шкала 1 / 0.5 / 0, но администратор может настроить альтернативные варианты при необходимости.
Экспорт отчётов
Отчёты должны экспортироваться в формате PDF. Визуальное представление отчёта на сайте и в экспортированном PDF должно быть идентичным и профессионально оформленным, так как компании будут использовать эти отчёты для внутренних целей и презентаций.